{"version":3,"sources":["webpack:///./src/components/chats/assets/typing.vue?547a","webpack:///src/components/chats/assets/typing.vue","webpack:///./src/components/chats/assets/typing.vue?646f","webpack:///./src/components/chats/assets/typing.vue","webpack:///./src/components/events/list/index.sass","webpack:///./src/components/chats/assets/typing.vue?a54c","webpack:///./src/components/events/list/index.sass?6a11","webpack:///./src/components/chat/list/index.vue?b98f","webpack:///./src/components/events/list/index.vue?3abb","webpack:///./src/components/events/list/index.js","webpack:///./src/components/events/list","webpack:///./src/components/events/list/index.vue","webpack:///./src/components/chat/list/index.js","webpack:///./src/components/chat/list","webpack:///./src/components/chat/list/index.vue","webpack:///./src/components/chat/list/index.sass","webpack:///./src/components/chats/assets/typing.vue?1047","webpack:///./src/components/chat/list/index.sass?0e7a","webpack:///./src/components/chats/assets/typing.vue?1da8","webpack:///./src/components/events/list/index.sass?d6d5","webpack:///./src/components/chat/list/index.sass?648f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","_s","$t","attrs","color","size","staticRenderFns","name","props","components","PulseLoader","data","loading","methods","computed","injectStyles","context","style0","__inject__","component","___CSS_LOADER_API_IMPORT___","exports","push","module","i","class","pocketnet","minimized","fix","active","ref","error","timeline","events","chat","lloading","scrollType","on","updatedSize","scrollE","removeEvent","editingEvent","replyEvent","e","imageGallery","menuIsVisibleHandler","_e","mobile","ios","menuOpen","imagesList","mousewheel","dscroll","showerror","_l","event","key","event_id","galleryOpen","text","emounted","directives","rawName","value","expression","scrolldown","Object","Array","Boolean","Error","String","type","tmt","lscroll","c","ls","voiceMessageQueue","provide","addToQueue","message","id","f","_","v","playNext","current","sortedVoiceMessageQueue","findIndex","next","setTime","play","watch","a","isios","mapState","auth","state","scrollbottomshow","scrollTop","eventsByPages","ps","pc","length","stringifyiedError","stringify","destroyed","core","menu","mounted","$dialog","alert","okText","backdropClose","catch","dupdated","$emit","scroll","ddscroll","$nextTick","scrollCorrection","s","scrollHeight","clientHeight","$refs","showPhotoSwipe","index","isOpen","$set","options","hidePhotoSwipe","scrollToNew","isVisible","preventDefault","deltaY","filterType","encryptedEvents","scrolling","scrollingTo","cancelNextScroll","lastEvent","esize","p_b","p_f","updateTimeout","updateInterval","firstPaginate","init","readAll","settings_read","dontreadreceipts","eventsTypes","types","toArray","currentState","members","bin","created","setInterval","update","unpaginate","_eventCount","clearInterval","getLiveTimeline","wh","getEvents","filter","localRedactionEvent","getRedactionEvent","keys","content","users","getMembers","reverse","relations","sortBy","replacingEventDate","getDate","Infinity","uniq","mtrx","clearEventId","makeid","getEventsAndEncrypt","Promise","all","map","pcrypto","resolve","decrypted","pr","subtype","deep","einfo","getAudio","console","msgtype","decryptEvent","then","d","getAudioUnencrypt","ts","_timelineSet","each","rt","getRelationsForEvent","last","getLastReplacement","body","edited","block","mediaTimelineSet","sdk","Filter","client","getUserId","setDefinition","filterId","getOrCreateFilter","credentials","userId","getOrCreateFilteredTimelineSet","getTimelineSet","TimelineWindow","setTimeout","load","r","autoPaginateAll","autoPaginate","direction","needLoad","paginate","rnd","canPaginate","count","Math","max","safespace","readEvent","byme","me","sender","sendReadReceipt","readFirst","readLast","readEvents","readOne","document","hasFocus","hiddenInParent","getJoinedMemberCount","getUnreadNotificationCount","setRoomReadMarkers","roomId","eventId","hidden","eventslist","__esModule","default","locals","add","shadowRoot"],"mappings":"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","file":"matrix-element.0.min.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"typingBlock\",staticStyle:{\"position\":\"relative\"}},[_c('div',{staticClass:\"typingBlockWrapper\"},[_c('div',[_c('span',[_vm._v(_vm._s(_vm.$t(\"caption.typing\")))])]),_c('div',[_c('PulseLoader',{attrs:{\"color\":_vm.color,\"size\":_vm.size,\"loading\":true}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <div style=\"position: relative;\" class=\"typingBlock\">\n    <div class=\"typingBlockWrapper\">\n      <div>\n        <span>{{ $t(\"caption.typing\") }}</span>\n      </div>\n      <div>\n        <PulseLoader  :color=\"color\" :size=\"size\" :loading=\"true\" />\n      </div>\n    </div>\n\n  </div>\n\n\n</template>\n<script>\nimport PulseLoader from 'vue-spinner/src/PulseLoader.vue'\n\n\nexport default {\n  name: 'typing',\n\n  props: {},\n  components: {\n    PulseLoader\n  },\n  data: ()=>{\n    return {\n    color: '#868686',\n    size: '2px',\n    loading:true\n    }\n  },\n  methods: {},\n  computed: {}\n}\n</script>\n<style lang=\"sass\">\n\n  .typingBlock\n    position: relative\n\n    .typingBlockWrapper\n      position: absolute\n      left: 50%\n      transform: translateX(-50%)\n      top: -5px\n      display: flex\n      align-items: center\n\n      >div\n        padding : 0 $r\n\n      span\n        font-size: 0.7em\n        color : srgb(--neutral-grad-3)\n        opacity: 0.8\n    \n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./typing.vue?vue&type=template&id=26ac9434&\"\nimport script from \"./typing.vue?vue&type=script&lang=js&\"\nexport * from \"./typing.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./typing.vue?vue&type=style&index=0&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".eventWrapper[data-v-27e149cf] .event{padding:.25em 0}.list-enter-active[data-v-27e149cf],.list-leave-active[data-v-27e149cf]{transition:all 1s}.list-enter[data-v-27e149cf],.list-leave-to[data-v-27e149cf]{opacity:0}#events[data-v-27e149cf]{left:0;right:0;top:0;bottom:0;padding-bottom:46px;position:absolute;transition:.3s}#events.mobile[data-v-27e149cf]{padding-bottom:77px;transform:translate3d(0,calc(var(--keyboardheight, 0)*-1 - -1px),0)}#events.mobile .scrollbottom[data-v-27e149cf]{bottom:5em}.dummyheight[data-v-27e149cf]{height:100%;width:2px;left:0;right:0;top:0;bottom:0;background:rgb(var(--color-shadow-base))}.preloadingWrapper[data-v-27e149cf]{padding:2em;text-align:center;opacity:.5;color:rgb(var(--text-color))}.scrollbottom[data-v-27e149cf]{position:absolute;right:.5em;bottom:4em;cursor:pointer;border-radius:50%;background:rgb(var(--background-main));box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7);color:rgb(var(--color-txt-gray-dark));width:35px;height:35px;line-height:35px;text-align:center;z-index:3}.scrollbottom i[data-v-27e149cf]{font-size:.7em}.eventsflex[data-v-27e149cf]{display:flex;flex-flow:column;overflow-y:overlay;overflow-x:hidden;max-width:640px;margin:0 auto;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;flex-wrap:nowrap;width:100%;height:100%;scroll-behavior:auto;continue:fragments;justify-content:flex-start;transform:scaleY(-1);contain:strict}.eventsflex.freeze[data-v-27e149cf]{overflow-y:hidden}.eventsflex .eventspage[data-v-27e149cf],.eventsflex .ewr[data-v-27e149cf]{width:100%;display:flex;flex-flow:column;flex-wrap:nowrap;justify-content:flex-start}.eventsflex .errorWrapper[data-v-27e149cf]{padding:.5em}.eventsflex .errorWrapper .btnwrp[data-v-27e149cf]{padding-top:.5em}.eventsflex .errorWrapper .error[data-v-27e149cf]{padding:1em;border-radius:1em;background:rgb(var(--neutral-grad-0))}.eventsflex .errorWrapper[data-v-27e149cf],.eventsflex .eventWrapper[data-v-27e149cf]{width:100%;transform:scaleY(-1)}.eventsflex.mobile[data-v-27e149cf]{scroll-behavior:smooth}.eventsflex.mobile[data-v-27e149cf] .dropdown.visible{top:-55px}.eventsflex.mobile[data-v-27e149cf] .outer-div .backgr,.eventsflex.mobile[data-v-27e149cf] .outer-div .menuwrapper{position:absolute}.eventsflex.mobile.ios.menuOpen[data-v-27e149cf]{overflow:visible}.galleryRow[data-v-27e149cf]{display:flex;align-items:flex-end}.galleryRow .messageImg[data-v-27e149cf]{max-width:50%;margin:0 10px;position:relative}.galleryRow .messageImg .img[data-v-27e149cf]{display:block;border-radius:.5em;position:relative;max-width:100%}.galleryRow .messageImg .loadingImg[data-v-27e149cf]{display:flex;align-items:center;justify-content:center;border-radius:.5em;position:relative;max-width:300px;height:250px}.galleryRow .messageImg .loadingImg .imgPreview[data-v-27e149cf]{border-radius:.5em;position:relative;max-width:100%;height:100%;opacity:.6}.galleryRow .messageImg .loadingImg .clipLoader[data-v-27e149cf]{position:absolute;z-index:9999;left:50%;right:0;top:50%;bottom:0;transform:translate(-50,50);display:flex;align-items:center;justify-content:center}.galleryRow .messageImg .imgMsg img[data-v-27e149cf]{max-width:100%;-o-object-fit:cover;object-fit:cover;border-radius:1em;display:block}.galleryRow .messageImg .metaLink[data-v-27e149cf]{background:#000}.galleryRow .messageImg .metaLink .metaMessageLink .metaTitle[data-v-27e149cf]{font-weight:700;font-size:.9em}.galleryRow .messageImg .metaLink .metaMessageLink .metaDescription[data-v-27e149cf]{margin:.5em 0;font-size:.8em}.galleryRow .messageImg .metaLink .metaMessageLink .metaImgWrapper[data-v-27e149cf]{display:block;max-width:300px;-o-object-fit:cover;object-fit:cover}.galleryRow .messageImg .metaLink .metaMessageLink .metaImgWrapper img[data-v-27e149cf]{display:block;width:100%;height:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=style&index=0&lang=sass&\"","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=27e149cf&scoped=true&lang=sass&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'bin' : _vm.pocketnet, 'bout' : !_vm.pocketnet, minimized: _vm.minimized, fix : _vm.pocketnet, active: _vm.active},attrs:{\"id\":\"chatList\"}},[_c('div',{ref:\"work\",staticClass:\"work\"},[_c('div',{ref:\"events\",staticClass:\"timeLineWrapper\"},[(_vm.timeline)?_c('events',{ref:\"eventslist\",attrs:{\"error\":_vm.error,\"timeline\":_vm.timeline,\"events\":_vm.events,\"chat\":_vm.chat,\"loading\":_vm.lloading,\"scrollType\":_vm.scrollType},on:{\"updated\":_vm.updatedSize,\"scroll\":_vm.scrollE,\"removeEvent\":_vm.removeEvent,\"editingEvent\":_vm.editingEvent,\"replyEvent\":_vm.replyEvent,\"galleryEventOpen\":function (e) { return _vm.imageGallery(e); },\"menuIsVisible\":_vm.menuIsVisibleHandler}}):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"maskedtop\",class:{mobile: _vm.mobile, ios: _vm.ios, menuOpen: _vm.menuOpen, imagesList: (this.scrollType === 'custom' ? 'imagesList' : '')},attrs:{\"id\":\"events\"}},[_c('div',{ref:\"container\",staticClass:\"eventsflex\",class:{mobile: _vm.mobile, ios: _vm.ios, menuOpen: _vm.menuOpen},on:{\"mousewheel\":_vm.mousewheel,\"scroll\":_vm.dscroll}},[_c('div',{staticClass:\"ewr\"},[(_vm.stringifyiedError)?_c('div',{staticClass:\"errorWrapper\"},[_c('div',{staticClass:\"error\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"sendingerror\")))]),_c('div',{staticClass:\"btnwrp\"},[_c('button',{staticClass:\"button small\",on:{\"click\":_vm.showerror}},[_vm._v(_vm._s(_vm.$t(\"details\")))])])])]):_vm._e(),_vm._l((_vm.events),function(event,i){return _c('div',{key:event.event.event_id,staticClass:\"eventWrapper\"},[_c('eventsEvent',{attrs:{\"event\":event,\"prevevent\":_vm.events[i+1],\"galleryData\":_vm.events,\"chat\":_vm.chat,\"timeline\":_vm.timeline,\"last\":i == 0},on:{\"openImageEvent\":function (e) { return _vm.galleryOpen(e); },\"removeEvent\":function (e) { return _vm.removeEvent(event); },\"editing\":function (text) { return _vm.editingEvent({event: event, text: text}); },\"reply\":function (e) { return _vm.replyEvent({event: event}); },\"mounted\":_vm.emounted,\"menuIsVisible\":_vm.menuIsVisibleHandler}})],1)})],2),(_vm.loading)?_c('div',{staticClass:\"preloadingWrapper\"},[_c('linepreloader')],1):_vm._e()]),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.scrollbottomshow),expression:\"scrollbottomshow\"}],staticClass:\"scrollbottom\",on:{\"click\":_vm.scrolldown}},[_c('i',{staticClass:\"fas fa-chevron-down\"})])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { mapState } from \"vuex\";\nimport f from \"@/application/functions\";\nimport * as _ from \"underscore\";\n\nexport default {\n  name: \"events\",\n  props: {\n    timeline: Object,\n    events: Array,\n    chat: Object,\n    loading: Boolean,\n    scrollType: \"\",\n    error: [Object, Error, String],\n  },\n  components: {},\n  data: function () {\n    return {\n      type: \"\",\n      tmt: null,\n      lscroll: null,\n      menuOpen: false,\n      c: 1,\n      ls: 0,\n      voiceMessageQueue: [],\n    };\n  },\n  provide() {\n    return {\n      addToQueue: (message, id) => {\n        var f = _.find(this.voiceMessageQueue, (v) => {\n          return v.id == id\n        })\n\n        if(!f)\n          this.voiceMessageQueue = [...this.voiceMessageQueue, { message, id }];\n      },\n      playNext: (id) => {\n        let current = this.sortedVoiceMessageQueue.findIndex((i) => {\n          return i.id === id;\n        });\n        let next =\n          current === -1 ? null : this.sortedVoiceMessageQueue[current + 1];\n        if (next) {\n          next.message.setTime(0)\n          next.message.play();\n        }\n      },\n    };\n  },\n\n  watch: {\n    events: function () {},\n  },\n\n  computed: {\n    sortedVoiceMessageQueue() {\n      return _.sortBy(this.voiceMessageQueue, (a) => {return a.id})\n    },\n\n    ios() {\n      return f.isios();\n    },\n\n    ...mapState({\n      auth: (state) => state.auth,\n      mobile: (state) => state.mobile,\n      scrollbottomshow: function () {\n        return this.lscroll && this.lscroll.scrollTop > 500;\n      },\n    }),\n\n    eventsByPages: function () {\n      var ps = [];\n      var pc = 0;\n\n      _.each(this.events, function (e) {\n        if (!pc) ps.push([]);\n\n        ps[ps.length - 1].push(e);\n\n        pc++;\n\n        if (pc > 19) pc = 0;\n      });\n\n      return ps;\n    },\n\n    stringifyiedError: function () {\n      return f.stringify(this.error);\n    },\n  },\n  destroyed: function () {\n    this.core.menu(null);\n  },\n  mounted: function () {},\n\n  methods: {\n    showerror: function () {\n      // stringifyiedError\n\n      return this.$dialog\n        .alert(this.stringifyiedError, {\n          okText: \"Ok\",\n          backdropClose: true,\n        })\n        .catch((e) => {});\n    },\n\n    dupdated: _.debounce(function () {\n      this.$emit(\"updated\", this.size());\n    }, 75),\n\n    dscroll: _.debounce(function () {\n      return this.scroll();\n    }, 35),\n\n    ddscroll: function (e) {\n      /*var _ls = this.$refs['container'].scrollTop \n\n            if (Math.abs(_ls - this.ls) > 500 && this.c * _ls < this.c * this.ls){\n            }\n            else{\n                this.ls = _ls\n            }*/\n\n      this.dscroll();\n    },\n\n    emounted: function () {\n      this.$nextTick(function () {\n        this.scrollCorrection();\n        this.dupdated();\n      });\n    },\n    scroll: function () {\n      this.$emit(\"scroll\", this.size());\n    },\n\n    size: function () {\n      var s = {\n        scrollHeight: 0,\n        scrollTop: 0,\n        clientHeight: 0,\n      };\n\n      if (this.$refs[\"container\"]) {\n        s.scrollHeight = this.$refs[\"container\"].scrollHeight;\n        s.scrollTop = this.c * this.$refs[\"container\"].scrollTop;\n        s.clientHeight = this.$refs[\"container\"].clientHeight;\n      }\n\n      this.lscroll = s;\n\n      return s;\n    },\n\n    editingEvent: function ({ event, text }) {\n      this.$emit(\"editingEvent\", { event, text });\n    },\n\n    replyEvent: function ({ event }) {\n      this.$emit(\"replyEvent\", { event });\n    },\n\n    removeEvent: function (event) {\n      this.$emit(\"removeEvent\", event);\n    },\n\n    showPhotoSwipe(index) {\n      this.isOpen = true;\n      this.$set(this.options, \"index\", index);\n    },\n\n    hidePhotoSwipe() {\n      this.isOpen = false;\n    },\n\n    galleryOpen(e) {\n      this.$emit(\"galleryEventOpen\", e);\n    },\n\n    scrolldown() {\n      this.scrollToNew(0);\n    },\n\n    scrollCorrection() {\n      //this.scrollToNew(this.c * this.ls)\n    },\n    scrollToNew(s) {\n      if (this.$refs[\"container\"]) {\n        this.$refs[\"container\"].scrollTop = this.c * s;\n      }\n    },\n\n    menuIsVisibleHandler: function (isVisible) {\n      this.menuOpen = isVisible;\n      this.$emit(\"menuIsVisible\", isVisible);\n    },\n\n    mousewheel: function (e) {\n      if (this.scrollType === \"custom\") {\n        return;\n      } else {\n        e.preventDefault();\n        this.$refs[\"container\"].scrollTop += -e.deltaY;\n        return false;\n      }\n    },\n  },\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=27e149cf&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.sass?vue&type=style&index=0&id=27e149cf&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"27e149cf\",\n  null\n  ,true\n)\n\nexport default component.exports","import {mapState} from 'vuex';\n\nimport events from '@/components/events/list/index.vue'\nimport time from \"../../chats/assets/time\";\nimport f from \"@/application/functions\";\n\nexport default {\n  name: 'chatList',\n  props: {\n    chat: Object,\n    filterType: String,\n    error : [Object, Error, String]\n  },\n\n  components: {\n    events\n  },\n\n  data: function () {\n\n    return {\n      encryptedEvents: [],\n      loading: false,\n      scrolling: false,\n      scrollingTo: 0,\n      cancelNextScroll: false,\n      timeline: null,\n      lastEvent: {},\n      scrollType: String,\n      esize : {},\n      p_b: false,\n      p_f: false,\n\n      updateTimeout: null,\n      updateInterval: null,\n      events: [],\n      firstPaginate: true,\n    }\n\n  },\n\n  mounted: function () {\n\n\n    this.init()\n\n    if (this.chat) {\n      this.readAll()\n    }\n\n  },\n\n  watch: {\n    //$route: 'getdata'\n\n    active : function(){\n\n      if(this.minimized && !this.active){\n        this.scrollToNew(0)\n      }\n\n      if(this.minimized && this.active){\n        this.readAll();\n      }\n\n    }\n  },\n  computed: mapState({\n\n    lloading: function () {\n      return this.loading || this['p_f'] || this['p_b']\n    },\n\n    auth: state => state.auth,\n\n    settings_read : state => !state.dontreadreceipts,\n\n    eventsTypes: function () {\n      var types = {\n        'm.room.message': true,\n        'p.room.encrypt.message': true,\n        'm.room.image': true,\n        'm.room.audio': true,\n        'm.room.file': true,\n        'm.room.member': true,\n        'm.fully_read': true\n      }\n\n      if (_.toArray(this.chat && this.chat.currentState.members || {}).length > 2) {\n        types['m.room.member'] = true\n        types['m.room.power_levels'] = true\n      }\n\n      return types\n    },\n\n    pocketnet: state => state.pocketnet,\n    minimized: state => state.minimized,\n    active: state => state.active,\n\n    bin: function (state) {\n      return state.pocketnet\n    },\n\n\n  }),\n\n  created() {\n    this.updateInterval = setInterval(this.update, 300)\n  },\n  destroyed() {\n\n    if (this.timeline) {\n      this.timeline.unpaginate(this.timeline._eventCount, true)\n    }\n\n    clearInterval(this.updateInterval)\n  },\n\n  methods: {\n    editingEvent: function ({event, text}) {\n      this.$emit('editingEvent', {event, text})\n    },\n    replyEvent: function ({event}) {\n      this.$emit('replyEvent', {event})\n    },\n\n    removeEvent: function (event) {\n      this.chat.getLiveTimeline().removeEvent(event.event.event_id)\n    },\n    wh: function () {\n\n      if (this.esize.clientHeight) return this.esize.clientHeight\n\n    },\n    getEvents: function () {\n      var events = this.timeline.getEvents()\n\n      events = _.filter(events, e => {\n\n        var type = e.event.type;\n\n        if (e.localRedactionEvent() || e.getRedactionEvent()) return\n\n        if (e.event.type === 'm.room.power_levels' && Object.keys(e.event.content.users).length === 1) {\n          return\n        }\n        if (this.chat.currentState.getMembers().length <= 2 && e.event.type === 'm.room.member' && 'm.room.power_levels') {\n          return\n        }\n\n        return !this.eventsTypes || this.eventsTypes[type]\n\n      })\n\n      events = events.reverse()\n\n      this.relations(events)\n\n      events = _.sortBy(events, function (e) {\n        return e.replacingEventDate() || e.getDate() || Infinity\n      })\n\n      events = events.reverse()\n\n      events = _.uniq(events, e => {\n        return this.core.mtrx.clearEventId(e) || f.makeid()\n      })\n\n      events = _.sortBy(events, function (e) {\n        return e.getDate() || Infinity\n      })\n\n\n      events = events.reverse()\n\n      this.$emit('getEvents', events)\n\n      return events\n\n    },\n\n    getEventsAndEncrypt : function(){\n      var events = this.getEvents()\n\n      return Promise.all(_.map(events, (e) => { \n\n\n        if(!this.chat.pcrypto) return Promise.resolve()\n\n\n        if (e.event.decrypted) return Promise.resolve()\n\n\n        var pr = null\n        var subtype = f.deep(e, 'event.content.msgtype')\n\n\n\n        //if(f.deep(e, 'event.content.msgtype') != 'm.encrypted') return Promise.resolve()\n\n        var einfo = f.deep(e, 'event.content.info.secrets') || f.deep(e, 'event.content.pbody.secrets')\n\n        if(einfo) {\n          if(subtype == 'm.image'){\n            \n          }\n\n          if(subtype == 'm.audio'){\n            pr = this.core.mtrx.getAudio(this.chat, e).catch(error => {\n\n              console.error(error)\n\n              e.event.decrypted = {\n                msgtype : 'm.bad.encrypted'\n              }\n\n            })\n          }\n\n          if(subtype == 'm.encrypted'){\n            pr = this.chat.pcrypto.decryptEvent(e.event).then(d => {\n              e.event.decrypted = d\n    \n              return Promise.resolve()\n            }).catch(e => {\n    \n              e.event.decrypted = {\n                msgtype : 'm.bad.encrypted'\n              }\n    \n              return Promise.resolve()\n            })\n          }\n        }\n        else{\n          if(subtype == 'm.audio'){\n            pr = this.core.mtrx.getAudioUnencrypt(this.chat, e)\n          }\n        }\n\n        if(!pr) return Promise.resolve()\n\n        return pr.catch(e => {\n          return Promise.resolve()\n        })\n\n\n        /*return this.chat.pcrypto.decryptEvent(e.event).then(d => {\n          e.event.decrypted = d\n\n          return Promise.resolve()\n        }).catch(e => {\n\n          e.event.decrypted = {\n            msgtype : 'm.bad.encrypted'\n          }\n\n          return Promise.resolve()\n        })*/\n\n      })).then(() => {\n        return Promise.resolve(events)\n      })\n    },\n\n    relations: function (events) {\n\n      var ts = this.timeline._timelineSet\n\n      _.each(events, (e) => {\n\n        try {\n\n\n          //if(!e.event.content.edited){\n          var rt = ts.getRelationsForEvent(e.event.event_id, 'm.replace', 'm.room.message')\n\n          if (rt) {\n            var last = rt.getLastReplacement()\n\n            if (last) {\n              e.event.content.body = last.event.content.body\n              e.event.content.edited = last.event.event_id\n              e.event.content.block = last.event.content.block\n              e.event.content.msgtype = last.event.content.msgtype\n            }\n\n          }\n\n        } catch (e) {\n          console.error(e)\n        }\n\n\n      })\n    },\n    mediaTimelineSet: async function () {\n      var filter = new this.core.mtrx.sdk.Filter(client.getUserId())\n\n      filter.setDefinition({\n        \"room\": {\n          \"timeline\": {\n            \"contains_url\": true,\n            \"types\": [\n              \"m.room.message\",\n            ],\n          },\n        }\n      })\n\n      filter.filterId = await this.core.mtrx.client.getOrCreateFilter(\"FILTER_FILES_\" + this.core.mtrx.client.credentials.userId, filter);\n      \n      return this.chat.getOrCreateFilteredTimelineSet(filter)\n    },\n    init: async function () {\n\n      this.loading = true\n      this.firstPaginate = true\n\n      var timeline = this.chat.getLiveTimeline();\n\n      var ts;\n\n      if (this.filterType === 'images') {\n        this.scrollType = 'custom'\n        ts = await this.mediaTimelineSet()\n\n      } else {\n\n        ts = timeline.getTimelineSet()\n\n      }\n\n      this.timeline = new this.core.mtrx.sdk.TimelineWindow(this.core.mtrx.client, ts)\n\n      setTimeout(() => {\n\n        this.timeline.load(/*null, (this.wh() || 600)*/).then((r) => {\n\n          return this.getEventsAndEncrypt()\n\n        }).then((events) => {\n          this.events = events\n\n          this.loading = false;\n\n          setTimeout(() => {\n\n            this.autoPaginateAll()\n\n          }, 300)\n\n        }).catch(e => {\n          this.loading = false;\n        })\n\n      }, 30)\n\n    },\n\n    autoPaginate: function (direction) {\n\n      if (this.needLoad(direction)) {\n        this.paginate(direction)\n      }\n\n    },\n\n\n    paginate: function (direction, rnd) {\n      //$(this.$el).find('.eventsflex')[0]\n\n      if (!this.loading && this.timeline && !this['p_' + direction]) {\n\n        if (this.timeline.canPaginate(direction) || rnd) {\n\n          this['p_' + direction] = true\n\n          let count = /*this.firstPaginate ? 24 : */20;\n\n          this.timeline.paginate(direction, count).then(e => {\n\n            return Promise.resolve()\n\n          }).catch(e => {\n\n            return Promise.resolve()\n\n          }).then(r => {\n\n            return this.getEventsAndEncrypt()\n\n          }).then(events => {\n            this.events = events;\n\n            this.firstPaginate = false\n\n            this.readAll();\n\n            this['p_' + direction] = false;\n          })\n\n        }\n        else{\n\n            this.readAll();\n          \n        }\n\n      }\n\n    },\n\n    autoPaginateAll: function () {\n      if (this.filterType === 'images') {\n        this.autoPaginate('b')\n      } else {\n        this.autoPaginate('b')\n        this.autoPaginate('f')\n      }\n    },\n\n    needLoad: function (direction) {\n\n      var r = false\n\n      var scrollHeight = this.esize.scrollHeight || 0\n      var scrollTop = this.esize.scrollTop || 0\n      var clientHeight = Math.max(this.esize.clientHeight || 0, 800)\n\n      if (direction == 'b') {\n\n        var safespace = clientHeight\n\n        if (scrollHeight - scrollTop < clientHeight + safespace) r = true\n      } else {\n        if (scrollTop < clientHeight) r = true\n      }\n\n      return r\n\n    },\n\n    readEvent: function (event) {\n\n      var byme = this.core.mtrx.me(event.event.sender)\n\n      if (byme) {\n        return\n      }\n      this.core.mtrx.client.sendReadReceipt(event)\n    },\n\n    readFirst: function () {\n      var events = this.timeline.getEvents();\n\n      this.readEvent(events[0])\n    },\n\n    readLast: function () {\n      var events = this.timeline.getEvents();\n\n      this.readEvent(events[events.length - 1])\n    },\n\n    readEvents: function (events) {\n      _.each(events, (e) => {\n        this.readEvent(e)\n      })\n    },\n    readOne() {\n      this.core.mtrx.client(this.chat.timeline[this.chat.timeline.length - 1]).then(r => {\n        return r\n      })\n    },\n    readAll: function () {\n\n      if(\n        document.hasFocus() &&\n        (!this.pocketnet || (this.active)) &&\n        !this.core.hiddenInParent &&\n        this.chat && this.chat.getJoinedMemberCount() > 0 &&\n        this.chat.getUnreadNotificationCount() !== 0)\n\n        setTimeout(() => {\n\n          if (!this.chat) return\n\n          var i = this.chat.timeline.length - 1\n          var event = null\n\n          while (i >= 0 && !event) {\n\n            var e = this.chat.timeline[i]\n\n            if (!this.core.mtrx.me(e.sender.userId)) {\n              event = e\n            }\n\n            i--\n          }\n\n          if(e){\n            this.core.mtrx.client.setRoomReadMarkers(\n              this.chat.currentState.roomId,\n              e.eventId,\n              e, {\n                hidden : !this.settings_read ? true : false\n              }).then(r => {\n  \n              return r\n            })\n          }\n\n          \n\n        }, 1000)\n\n    },\n\n    //////////////\n\n\n    scrollE: function (size) {\n\n        this.updatedSize(size)\n        this.$emit('scroll', size)\n\n    },\n\n    updatedSize: function (size) {\n      this.esize = size\n    },\n\n    update: function (e) {\n      if (!this.scrolling) {\n        this.autoPaginateAll()\n      } else {\n        // e.preventDefault()\n      }\n    },\n\n\n    scrollToNew: function (s) {\n      this.scrolling = true\n\n      this.$refs.eventslist.scrollToNew(s)\n\n      this.scrolling = false\n\n    },\n\n\n    imageGallery: function (e) {\n      this.$emit('eventImage', e)\n    },\n\n    menuIsVisibleHandler: function (isVisible) {\n      this.$emit('menuIsVisible', isVisible);\n    }\n  },\n}","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ef061e4a&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.sass?vue&type=style&index=0&id=ef061e4a&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"ef061e4a\",\n  null\n  ,true\n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[data-v-ef061e4a] .eventMember{text-align:left}[data-v-ef061e4a] .eventMember span{font-size:.9em}.pswp img[data-v-ef061e4a]{max-width:none;-o-object-fit:contain;object-fit:contain}#chatList.minimized:not(.active) .timeLineWrapper[data-v-ef061e4a]{padding-left:.5em}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=style&index=0&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"e96d3eb2\", content, shadowRoot)\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=ef061e4a&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"3b601183\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".typingBlock{position:relative}.typingBlock .typingBlockWrapper{position:absolute;left:50%;transform:translateX(-50%);top:-5px;display:flex;align-items:center}.typingBlock .typingBlockWrapper>div{padding:0 .5em}.typingBlock .typingBlockWrapper span{font-size:.7em;color:rgb(var(--neutral-grad-3));opacity:.8}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=27e149cf&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"68313033\", content, shadowRoot)\n};","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=ef061e4a&scoped=true&lang=sass&\""],"sourceRoot":""}